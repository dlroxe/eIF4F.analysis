<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>NA • eIF4F.analysis</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css"><script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet"><script src="pkgdown.js"></script><meta property="og:title" content="NA"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-12345678-0"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-12345678-0');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-title-body">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">eIF4F.analysis</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="articles/eIF4F_analysis.html">eIF4F_analysis</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/a3609640/eIF4F.analysis/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>NA</h1>
    </div>


<p>Please note the descriptions of System 2 and System 3 from <a href="https://github.com/a3609640/eIF4F.analysis#readme" class="external-link">README.md</a>. Behavior of the package on Windows was evaluated using these systems, at different points during package development. The following is provided by David Roxe, who undertook some evaluation as a favor to the authors.</p>
<p>On Nov 2. 2020, I submitted a descriptive change <a href="https://github.com/a3609640/EIF-analysis/commit/26a1b84082450ca219319ec134c83c8b53437b67" class="external-link">here</a> to indicate that the package was observed to work on System 2.</p>
<p>Recently, I evaluated the package on Windows 11 on System 3. I was made aware of another evaluation on Windows 10, in which it was observed that correlation analysis could not complete within a reasonable amount of time, even on a very amply-resourced machine. This observation was at odds with observed behavior on Linux on System 1. However, my observations on System 3 matched the report of performance difficulties on Windows 10, so I investigated a little further.</p>
<p>I specifically observed a performance problem on Windows in correlation analysis. I used the “profiling” feature of RStudio to analyze the “lung” portion of the correlation analysis (because this is much more tractable than the “all” portion). I found two places where substantial computing resources were spent (to the point of dominating all other computational expenditures):</p>
<ul><li>I found that roughly 50% of CPU time was spent in ComplexHeatmap:Heatmap().</li>
<li>I found that roughly 50% of CPU time was spent in .correlation_coefficient(), in COR.R.</li>
</ul><p>For whatever reason, these functions are slow on Windows, yet perform adequately on Linux. I do not have an explanation for this.</p>
<p>I evaluated direct use of R-4.2.1 on Windows (without RStudio). Although it was marginally faster, the performance difficulties with correlation analysis remained quite evident.</p>
<p>I installed Ubuntu 22.04 using the “Windows Subsystem for Linux” (WSL), plus several Ubuntu packages necessary to support the various dependencies of this R package. I then (with some trouble) completed an installation of this R package in that WSL environment. Note, WSL forced the use of R-4.1.2 instead of R-4.2.1; this in turn forced use of BiocManager 3.1.4 instead of BiocManager-3.1.5. This in turn affected other package versions.</p>
<p>Using only the bash command line provided by WSL, I was able to execute the entire package in approximately 20m. This required <a href="https://github.com/a3609640/eIF4F.analysis/commit/c6e25e5dd9f2cb4856429fb4186cff357a6251f5" class="external-link">some adjustments to Analysis.R</a>.</p>
<p>Note that WSL executes a binary program exactly as it was compiled for Linux, rather than a binary compiled specifically for Windows.</p>
<p>So:</p>
<ul><li>The package worked on Windows 10 on System 2 in Nov 2020.</li>
<li>The package code and the versions of Windows, RStudio, R, and R packages have all changed since then. It should be noted, however, that the body of .correlation_coefficient() <a href="https://github.com/a3609640/EIF-analysis/blob/8ea7dada7e7d5ba732c6e10cb28215fdb6eb06e6/R/EIFanalysis.R#L5703" class="external-link">has not changed significantly</a>.</li>
<li>Because the performance problem has been seen recently on Windows 10 and 11, it does not seem as though the Windows version is the culprit.</li>
<li>Likewise, because the problem has been seen with and without RStudio, it does not seem as though RStudio is the culprit.</li>
<li>Possible remaining culprits would seem to be the following:<ul><li>The Windows-native binary may have a problem that the Linux-native binary does not have, even when both are executed on Windows.</li>
<li>The version differences (either in R itself or in R packages) between R-4.1.2 and R-4.2.1 may contain a performance regression.</li>
</ul></li>
</ul><p>I would like to be able to report a stable and reproducible procedure for executing the package with WSL on Windows. Among other things, this would permit further investigation of the performance problem. However, I have encountered the following difficulties:</p>
<ul><li>The installation procedure itself has many complexities beyond the existing procedure. WSL installation itself is not yet entirely trivial. After a Ubuntu-22.04 was installed, separate installs were necessary for several development packages. The version of R available with default package repositories was too old; so system package repositories required adjustment. R package installation required several retries, seemingly due to network interface difficulties. Unprivileged installation of R packages did not work “out of the box”.</li>
<li>After all that, the WSL R installation is not stable. I have observed seemingly-transient errors with varying complaints. I have also observed recurring complaints of “recursive gc invocation”, which occur with low but annoying probability. I have experienced multiple Blue Screens of Death for kernel security complaints (I think related to WSL’s use of virtualization and/or the combination of applications I had open and/or my BIOS settings.)</li>
</ul><p>Furthermore, WSL is subject to a RAM limitation: It has access to at most 50% of system RAM. Some web search results suggest “50% or 8GB, whichever is smaller”, but at any rate I note that on System 3, which has 128G of RAM, WSL reports that it has 64G of RAM available. To suggest WSL as a solution to the performance problem would be to suggest a minimum hardware requirement of 96G of RAM. From my own research, most consumer-grade laptops accommodate at most 64G, so this solution would restrict execution on Windows to desktop systems.</p>
<p>Despite all that, I did observe a successful (and reasonably quick) package execution on Windows. This is all to say:</p>
<ul><li>The expected evaluation times for the work seem accurate in principle.</li>
<li>The problems that cause long evaluation times seem specific to either a particular R version, or to R as it is compiled for Windows.</li>
<li>It is difficult to see how to recommend execution on Windows (at least for correlation analysis) for the time being, because the user seemingly has the choice between intolerably long execution time, or the unstable WSL environment.</li>
</ul></div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>



      <footer><div class="copyright">
  <p></p><p>Developed by Su Wu.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

